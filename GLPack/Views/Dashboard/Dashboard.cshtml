@model GLPack.ViewModels.Companies.DashboardViewModel
@{
    ViewData["Title"] = $"{Model.CompanyName} · Dashboard";
    ViewData["Breadcrumb"] = "Companies";
}

<section class="space-y-6">

    <!-- Header row -->
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-semibold tracking-tight">@Model.CompanyName</h1>
            <p class="text-sm text-gray-500 dark:text-neutral-400">
                Company ID: @Model.CompanyId
            </p>
        </div>

        <a asp-controller="Home" asp-action="Index"
           class="inline-flex items-center gap-2 rounded-lg border border-gray-200 dark:border-neutral-700
                  px-3 py-1.5 text-sm text-gray-700 dark:text-neutral-100
                  hover:bg-gray-50 dark:hover:bg-neutral-800">
            <span>← All Companies</span>
        </a>
    </div>

    <!-- Recent accounts / transactions placeholders -->
    <div class="grid gap-4 lg:grid-cols-2">
        <div class="rounded-2xl border border-gray-200 dark:border-neutral-800 p-4">
            <div class="flex items-center justify-between mb-2">
                <h2 class="text-sm font-semibold text-gray-800 dark:text-neutral-100">
                    Accounts
                </h2>
                <a href="/company/@Model.CompanyId/accounts"
                   class="text-xs text-indigo-600 dark:text-indigo-400 hover:underline">
                    View all
                </a>
            </div>
            <div id="accountsPreview" class="text-sm text-gray-500 dark:text-neutral-400">
                No data loaded yet.
            </div>
        </div>

        <div class="rounded-2xl border border-gray-200 dark:border-neutral-800 p-4">
            <div class="flex items-center justify-between mb-2">
                <h2 class="text-sm font-semibold text-gray-800 dark:text-neutral-100">
                    Transactions
                </h2>
                <a href="/company/@Model.CompanyId/transactions"
                   class="text-xs text-indigo-600 dark:text-indigo-400 hover:underline">
                    View all
                </a>
            </div>
            <div id="transactionsPreview" class="text-sm text-gray-500 dark:text-neutral-400">
                No data loaded yet.
            </div>
        </div>

        <!-- NEW: Reports card -->
        <div class="rounded-2xl border border-gray-200 dark:border-neutral-800 p-4 lg:col-span-2">
            <div class="flex items-center justify-between mb-2">
                <h2 class="text-sm font-semibold text-gray-800 dark:text-neutral-100">
                    Reports
                </h2>
                <a href="/company/@Model.CompanyId/reports"
                   class="text-xs text-indigo-600 dark:text-indigo-400 hover:underline">
                    Open reports
                </a>
            </div>
            <p class="text-sm text-gray-500 dark:text-neutral-400">
                View and download Profit &amp; Loss and Trial Balance.
            </p>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        window.__page__ = {
            name: "companyDashboard",
            companyId: @Model.CompanyId,
            companyName: "@Model.CompanyName"
        };
    </script>
}
